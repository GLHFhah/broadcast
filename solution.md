Какие поля используем в инициализации:
    self._acks = {}           Счётчики подтверждений для каждого сообщения
    self._sent = set()        Множество отправленных сообщений
    self._received = set()    Множество полученных сообщений
    self._delivered = set()   Множество доставленных сообщений
    self._check = set()       Множество сообщений, для которых отправлен BCAST_DELIVER

При получении сообщения от пользователя ('SEND') процесс создаёт сообщение 'BCAST' и рассылает его всем процессам системы. 
Добавляем сообщение в множество отправленных сообщений (_sent).

При получении сообщения 'BCAST' процесс проверяет, не отправлял ли он это сообщение сам и не получал ли его ранее. 
Если нет - добавляем сообщение в множество полученных (_received) и отправляем подтверждение 'ACK' отправителю.

 При получении подтверждения 'ACK' процесс увеличивает счётчик подтверждений для соответствующего сообщения. 
 Когда получено подтверждение от большинства процессов (а по условию больше половины процессов - корректные), 
 процесс рассылает сообщение 'BCAST_DELIVER' всем процессам.

 При получении 'BCAST_DELIVER' процесс доставляет сообщение пользователю через локальное сообщение 'DELIVER', 
 добавляет сообщение в множество доставленных (_delivered), пересылает 'BCAST_DELIVER' всем процессам 
 для обеспечения надежности и отправляет финальное подтверждение 'FINACK' отправителю.

 Осталось только при получении 'FINACK' доставить сообщение, если оно еще не было доставлено.

1. No Duplication
Каждое сообщение добавляется в множество _delivered при первой доставке и повторная доставка невозможна из-за проверки на его наличие в
множестве доставленных.

2. No Creation

Все доставляемые сообщения проходят через цепочку: 'SEND' -> 'BCAST' -> 'BCAST_DELIVER' -> 'DELIVER'. 
Каждое сообщение имеет поле 'text', которое сохраняется на всем пути, таким образом новых сообщений не появится

3. Validity
Если корректный процесс отправил сообщение, он рассылает 'BCAST' всем процессам. 
Поскольку корректных процессов большинство, то хотя бы половина процессов получат сообщение и отправят 'ACK'. 
Это гарантирует, что хотя бы один процесс соберет достаточно подтверждений и отправит 'BCAST_DELIVER', что в 
итоге приведет к доставке сообщения всем корректным процессам.

4. Uniform Agreement (Единое соглашение)

Алгоритм использует два этапа подтверждения:
1) Получение подтверждений 'ACK' от большинства процессов
2) Рассылка 'BCAST_DELIVER' с последующей пересылкой
Если хотя бы один процесс доставил сообщение, значит он получил 'BCAST_DELIVER', который будет переслан всем процессам. Даже
если отправитель 'BCAST_DELIVER' упадет, другие процессы продолжат пересылку, обеспечивая доставку всем корректным процессам.